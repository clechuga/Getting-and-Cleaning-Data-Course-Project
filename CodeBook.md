﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿# Code Book for the Tidy data ##Background: The tidy data `tidy_data_averages.txt` was transformed and obtained from the UCI Human Recognition (HAR) dataset repository (website [here](http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones)). The data was collected through experiments carried out with a group of 30 subject volunteers between the ages of 19 and 48. Each person performed six activities (WALKING, WALKING\_UPSTAIRS, WALKING\_DOWNSTAIRS, SITTING, STANDING, LAYING) wearing a smartphone Samsung Galaxy S II on their waist. Using the phone's embedded accelerometer and gyroscope, 3-axial linear acceleration and 3-axial angular velocity were captured at a constant rate of 50Hz. The experiments were video-recorded to label the data manually. The dataset was then randomly partitioned into two sets, where 70% of the volunteers were selected for generating the training data and 30% the test data. These two sets are found in files `X_train.txt` and `X_test.txt`, respectively, in the following zip file.[https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip)The sensor signals (accelerometer and gyroscope) were pre-processed by applying noise filters and then sampled in fixed-width sliding windows of 2.56 sec and 50% overlap (128 readings/window). The sensor acceleration signal, which has gravitational and body motion components, was separated using a Butterworth low-pass filter into body acceleration and gravity. The gravitational force is assumed to have only low frequency components, therefore a filter with 0.3 Hz cutoff frequency was used. From each window, a vector of features was obtained by calculating variables from the time and frequency domain.## R Script:Here are the 5 steps the R script `run_analysis` performs in order to transform the UCI HAR dataset into a tidy data set.**1. Merges the training and the test sets to create one data set.**The files `X_train.txt` and `X_test.txt` contain 7352 and 2947observations, respectively, for each of the 561 feature variables (measurements). The R script `run_analysis` first combines these data to produce 10299 observations for each variable, thus creating a data frame of 10299 rows and 561 columns called `x_train_test` in the script. The columns of this data frame are then labeled using the feature data `features.txt`.The observations in `x_train_test` correspond to one of the 30 subject identifiers (id's) and one of 6 activity identifiers represented in the files `subject_train.txt`, `subject_test.txt`, `y_train.txt`, and `y_test.txt`. The script then combines the "subject" data row-wise and the "activity" data row-wise to create two data frames called `subject` and `activity`, each having 10299 rows and 1 column.Finally, the three data frames `subject`(10299 x 1), `x_train_test` (10299 x 561), and `activity` (10299 x 1) are combined column-wise to create the merged data frame `merged_data` with 10299 rows and 563 columns. By convention the subject identifiers (id's) appear in the left-most column.**2. Extracts only the measurements on the mean and standard deviation for each measurement.**From `merged_data`, a new data frame `extracted_data` is extracted only to contain feature variables (i.e. columns) with measurements on the mean and standard deviation. This process extracts a total of 66 columns out of 561. By convention the subject identifier (id's) and activity identifier columns were left in data frame `extracted_data` resulting in 10299 rows and 68 columns. **3. Uses descriptive activity names to name the activities in the data set.**On `extracted_data`, the script then replaces the activity identifiers with the actual activity character names (WALKING, WALKING\_UPSTAIRS, WALKING\_DOWNSTAIRS, SITTING, STANDING, LAYING).**4. Appropriately labels the data set with descriptive variable names.**The script then converts the 66 measurement variables on the mean and standard deviation to more descriptive variables names (listed in the variable description section below).**5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.**Next, the script generates an independent tidy data frame `tidy_data`, which groups the data by subject and activity computing the average for each measurement feature. Since there are 30 subjects and 6 activities, there are a total of 30 x 6 = 180 pairwise combinations of subjects and activities, thus determining the number of rows of the tidy data frame `tidy_data`. Finally, the script writes the tidy data frame `tidy_data` to the file called `tidy_data_of_averages.txt` so that it can be stored for later analysis.## Variable Descriptions of the Final Tidy Data SetThe tidy data set `tidy_data` contains a total of 68 variables and 180 observations (180 x 68). Here are the 68 variables.**subject**The first variable is "subject", which identifies the 30 subject volunteers in the experiment. This variable takes on integer values from 1 to 30. **activity**The next variable is "activity", which denotes the activity performed by each subject volunteer. This variable takes on the following 6 characters strings.* WALKING* WALKING\_UPSTAIRS* WALKING\_DOWNSTAIRS* SITTING* STANDING* LAYING**measurements for which the average was computed**There are 66 measurements for which the average was computed. For more details on these variables, please see `features_info.txt` in the [zip file](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip). Also, the following portion of the script  `run_analysis` shows how the variable names got converted from their original names to more descriptive names in the subsequent bulleted list.````names(extracted_data) <- gsub("std","standard deviation",names(extracted_data))names(extracted_data) <- gsub("BodyBody","body ",names(extracted_data))names(extracted_data) <- gsub("mean","mean value",names(extracted_data))names(extracted_data) <- gsub("^f","frequency ",names(extracted_data))names(extracted_data) <- gsub("^t","time ",names(extracted_data))names(extracted_data) <- gsub("Body","body ",names(extracted_data))names(extracted_data) <- gsub("Acc","acceleration ",names(extracted_data))names(extracted_data) <- gsub("Gyro","gyroscope ",names(extracted_data))names(extracted_data) <- gsub("Gravity", "gravity ", names(extracted_data))names(extracted_data) <- gsub("-"," ",names(extracted_data))names(extracted_data) <- gsub("Jerk","jerk ",names(extracted_data))names(extracted_data) <- gsub("Mag","magnitude ",names(extracted_data))names(extracted_data) <- gsub("\\()", "",names(extracted_data))names(extracted_data) <- gsub("valueX", "value X",names(extracted_data))names(extracted_data) <- gsub("valueY", "value Y",names(extracted_data))names(extracted_data) <- gsub("valueZ", "value Z",names(extracted_data))names(extracted_data) <- gsub("deviationX", "deviation X",names(extracted_data))names(extracted_data) <- gsub("deviationY", "deviation Y",names(extracted_data))names(extracted_data) <- gsub("deviationZ", "deviation Z",names(extracted_data))names(extracted_data) <- gsub("  ", " ",names(extracted_data))````* time body acceleration mean value X                          * time body acceleration mean value Y                          * time body acceleration mean value Z                          * time body acceleration standard deviation X                  * time body acceleration standard deviation Y                  * time body acceleration standard deviation Z                  * time gravity acceleration mean value X                       * time gravity acceleration mean value Y                       * time gravity acceleration mean value Z                       * time gravity acceleration standard deviation X               * time gravity acceleration standard deviation Y               * time gravity acceleration standard deviation Z               * time body acceleration jerk mean value X                     * time body acceleration jerk mean value Y                     * time body acceleration jerk mean value Z                     * time body acceleration jerk standard deviation X             * time body acceleration jerk standard deviation Y             * time body acceleration jerk standard deviation Z             * time body gyroscope mean value X                             * time body gyroscope mean value Y                             * time body gyroscope mean value Z                             * time body gyroscope standard deviation X                     * time body gyroscope standard deviation Y                     * time body gyroscope standard deviation Z                     * time body gyroscope jerk mean value X                        * time body gyroscope jerk mean value Y                        * time body gyroscope jerk mean value Z                        * time body gyroscope jerk standard deviation X                * time body gyroscope jerk standard deviation Y                * time body gyroscope jerk standard deviation Z                * time body acceleration magnitude mean value                  * time body acceleration magnitude standard deviation          * time gravity acceleration magnitude mean value               * time gravity acceleration magnitude standard deviation       * time body acceleration jerk magnitude mean value             * time body acceleration jerk magnitude standard deviation     * time body gyroscope magnitude mean value                     * time body gyroscope magnitude standard deviation             * time body gyroscope jerk magnitude mean value                * time body gyroscope jerk magnitude standard deviation        * frequency body acceleration mean value X                     * frequency body acceleration mean value Y                     * frequency body acceleration mean value Z                     * frequency body acceleration standard deviation X             * frequency body acceleration standard deviation Y             * frequency body acceleration standard deviation Z             * frequency body acceleration jerk mean value X                * frequency body acceleration jerk mean value Y                * frequency body acceleration jerk mean value Z                * frequency body acceleration jerk standard deviation X        * frequency body acceleration jerk standard deviation Y        * frequency body acceleration jerk standard deviation Z        * frequency body gyroscope mean value X                        * frequency body gyroscope mean value Y                        * frequency body gyroscope mean value Z                        * frequency body gyroscope standard deviation X                * frequency body gyroscope standard deviation Y                * frequency body gyroscope standard deviation Z                * frequency body acceleration magnitude mean value             * frequency body acceleration magnitude standard deviation     * frequency body acceleration jerk magnitude mean value        * frequency body acceleration jerk magnitude standard deviation* frequency body gyroscope magnitude mean value                * frequency body gyroscope magnitude standard deviation        * frequency body gyroscope jerk magnitude mean value           * frequency body gyroscope jerk magnitude standard deviation